# 反机器人

## 需求背景

*   避免真实用户被误杀，并提供足够的信用恢复手段；
*   大规模清理工作室的机器人账号，提高作恶成本，只要数量足够大就可以，但不追求百分百清掉；
*   对外不公布反机器人策略，防止被反向提升机器人策略；

## 1. 分层体系（先不做）

### 正常用户

### 可疑用户

*   **账号特征**
    *   低质量社媒+低质量钱包
*   **可疑行为自动判定**
*   **集群行为定期检测**
*   **处理手段**
    *   用户登录后，强制要求过复杂图形验证码，否则不能做其他操作（可以提工单）
    *   用户通过后恢复为正常用户

### 高可疑用户

*   **账号特征**
    *   低质量社媒+低质量钱包
    *   可疑账号，未完成图形验证码次数\>=5，10分钟没做也算一次未完成
    *   或者直接命中高可疑行为
*   **处理手段**
    *   用户登录后，强制要求完成KYC，否则不能做其他操作（可以提工干）
    *   用户完成后恢复为正常用户

### 黑名单用户

*   不会自动触发，只能手动触发
*   没有任何自助恢复手段，可以提工单
*   用户登录后，直接弹窗说明他已经进入黑名单，可以提工单

## 2. 初步思路

*   先增加一种集群化的标记规则，聚类分析；
*   标记为灰名单，灰名单用户可以通过做验证码恢复；
*   观察误杀率，逐步调整标记规则；

## 需求详情

### 1. 集群化标记灰名单

*   每个Quest结束后，如果参与人数\>10000，则触发集群化分析
*   把该Quest的所有参与者拉出来，先根据**白名单规则**去掉优质用户，然后用聚类分析或者其他手段，分析剩下用户的多维度相似性
*   把高度相似的集群用户，标记为灰名单
*   **白名单规则**（满足任意一项，就不会被标记为灰名单）
    *   完成了KYC
    *   Thirdwave Score\>50

### 2. 灰名单用户弹图形验证码

*   灰名单用户只要登录网站，就会弹图形验证码（选择哪一家图形验证码由Billy提供: [图形验证码服务商](https://ontology.sg.larksuite.com/wiki/VksOwQZamiNZhwkwZFWlTHl5gWh?from=from_copylink)）
*   完成图形验证码，就会从灰名单中恢复，但需要记录该数据
*   需要记录用户触发图形验证码的次数，要观察一下多少次触发图形验证码但未完成可以判定为机器人

### 3. 数据分析

*   定期分析恢复比例，查出来一个Quest的全部灰名单标记用户，然后查出来这些用户是否通过了图形验证码恢复了，未恢复的触发过多少次图形验证码
*   根据误杀率优化标记规则
